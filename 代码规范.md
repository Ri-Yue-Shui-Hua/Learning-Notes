# 代码规范





[(1条消息) Google的C++编程规范总结_su扬帆启航的博客-CSDN博客](https://blog.csdn.net/orange_littlegirl/article/details/94153948)



## 格式



### 每行代码不多于 80 个字符



从前的电脑终端，每行只可以显示 80 个字符。现在有更大更宽的显示屏，很多人会认为这条规则已经没有必要。但我们有充分的理由：
版本控制软件，或者编码过程中，经常需要在同一显示屏幕上，左右并排对比新旧两个文件。80 个字符的限制，使得两个文件都不会折行，对比起来更清晰。
当代码超过 3 层嵌套，代码行就很容易超过 80 个字符。这条规则防止我们嵌套太多层级，层级嵌套太深会使得代码难以读懂。

规则总会有例外。比如当你有些代码行，是 82 个字符，假如我们强制规定少于80字符，人为将一行容易读的代码拆分成两行代码，就太不人性化了。我们可以适当超过这个限制。



### 使用空格(Space)，而不是制表符(Tab)来缩进，每次缩进4个字符



```bash
代码编辑器，基本都可以设置将Tab转为空格，请打开这个设置。
```

制表符在每个软件中的显示，都会有所不同。有些软件中每个Tab缩进8个字符，有些软件每个Tab缩进4个字符，随着个人的设置不同而不同。只使用空格来缩进，保证团队中每个人，看同一份代码，格式不会乱掉。



### 指针符号*，引用符号& 的位置，写在靠近类型的地方



```cpp
// 对比两种写法, 写成第(1)种。
CCNode* p = CCNode::create(); // (1)
CCNode *p = CCNode::create(); // (2)
```

我知道这个规定有很大的争议。指针符号到底靠近类型，还是靠近变量，这争论一直没有停过。其实两种写法都没有什么大问题，关键是统一。经考虑，感觉第1种写法更统一更合理。理由：

```cpp
//在类中连续写多个变量，通常会用 Tab 将变量对齐。( Tab 会转化成空格)。比如
CCNode* _a;
CCNode _b;
int _c;
```



```cpp
//当星号靠近类型而不是变量。_a, _b, _c 等变量会很自然对齐。
//而当星号靠近变量，如果不手动多按空格微调，会写成。
CCNode *_a;
CCNode _b;
int _c;
```



指针符号靠近类型，语法上更加统一。比如

```cpp
const char* getTableName();
static_cast<CCLayer*>(node);
//反对第一种写法的理由通常是：
//假如某人连续定义多个变量，就会出错。
int* a, b, c;
```



```cpp
//上面写法本身就有问题。指针应该每行定义一个变量, 并初始化。
int* a = nullptr;
int* b = nullptr;
int* c = nullptr;
```



### 花括号位置



```cpp
//采用Allman风格，if, for, while，namespace, 命名空间等等的花括号，另起一行。例子
for (auto i = 0; i < 100; i++)
{
printf("%d\n", i);
}
//这条规定，很可能又引起争议。很多人采用 K&R 风格，将上面代码写成
for (auto i = 0; i < 100; i++) {
printf("%d\n", i);
}

```



























